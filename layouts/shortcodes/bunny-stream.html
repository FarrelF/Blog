{{- $divStyle := default (print "position: relative; padding-top: 56.25%;" | safeCSS) (.Get "div-style" | safeCSS) -}}
{{- $Style := default (print "border: none; position: absolute; top: 0; height: 100%; width: 100%;" | safeCSS) (.Get "style" | safeCSS) -}}
{{- $Allow := default `accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;` (.Get "allow") -}}
{{- $embedURI := default (print "https://iframe.mediadelivery.net/embed" | safeURL) (.Get "embed-uri" | safeURL) -}}
{{- $libraryID := default "926" (.Get "library-id") -}}
{{- $videoID := .Get "id" -}}
{{- $Autoplay := default false (.Get "autoplay") -}}
{{- $videoURL := printf "%s/%s/%s?autoplay=%s" $embedURI $libraryID $videoID (string $Autoplay) | safeURL -}}

<div style="{{- $divStyle -}}">
    <iframe 
        src="{{- $videoURL -}}" 
        {{- if eq (.Get "lazyload") true -}}loading="lazy"{{- end -}} 
        style="{{- $Style -}}" 
        allow="{{- $Allow -}}"
        {{- if eq (.Get "allowfullscreen") true -}}allowfullscreen="true"{{- end -}}>
    </iframe>
</div>
